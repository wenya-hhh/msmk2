{"version":3,"sources":["webpack:///./src/components/set-info.vue?97e0","webpack:///src/components/set-info.vue","webpack:///./src/components/set-info.vue?118e","webpack:///./src/components/set-info.vue","webpack:///./src/components/set-info.vue?6c48"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","$event","$router","go","_v","baocun","tag","directives","name","rawName","value","expression","domProps","target","composing","_e","class","_l","item","key","id","str","includes","checked","_s","staticRenderFns","props","components","$route","query","arr","arr1","computed","watch","methods","data","nickname","sex","user_attr","JSON","stringify","console","log","push","event","obj","attr_id","attr_val_id","flag","indexOf","index","findIndex","splice","select","map","component"],"mappings":"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","file":"js/chunk-a37d1b3c.1fe6457b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box\"},[_c('header',[_c('van-icon',{attrs:{\"name\":\"arrow-left\"},on:{\"click\":function($event){return _vm.$router.go(-1)}}}),_c('h3',[_vm._v(\"修改个人信息\")]),_c('span',{on:{\"click\":_vm.baocun}},[_vm._v(\"保存\")])],1),_c('div',[(_vm.tag == 'nickname')?[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.value),expression:\"value\"}],attrs:{\"type\":\"text\",\"placeholder\":\"最多可输入15个字\",\"maxlength\":\"15\"},domProps:{\"value\":(_vm.value)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.value=$event.target.value}}})]:_vm._e(),(_vm.tag == 'sex')?[_c('ul',[_c('li',{class:_vm.value == 0 ? 'active' : '',on:{\"click\":function($event){_vm.value = 0}}},[_vm._v(\"男\")]),_c('li',{class:_vm.value == 1 ? 'active' : '',on:{\"click\":function($event){_vm.value = 1}}},[_vm._v(\"女\")])])]:_vm._e(),(_vm.tag == 'subjects')?[_c('div',{staticClass:\"subjects\"},[_c('ul',_vm._l((_vm.arr),function(item){return _c('li',{key:item.id},[_c('input',{staticClass:\"check\",attrs:{\"type\":\"checkbox\",\"name\":\"\",\"id\":\"\"},domProps:{\"checked\":_vm.str.includes(item.id)},on:{\"click\":function($event){return _vm.checked(item.id, $event)}}}),_c('span',[_vm._v(_vm._s(item.name))])])}),0)])]:_vm._e()],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"box\">\r\n    <header>\r\n      <van-icon name=\"arrow-left\" @click=\"$router.go(-1)\" />\r\n      <h3>修改个人信息</h3>\r\n      <span @click=\"baocun\">保存</span>\r\n    </header>\r\n    <div>\r\n      <!-- 昵称 -->\r\n      <template v-if=\"tag == 'nickname'\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"最多可输入15个字\"\r\n          maxlength=\"15\"\r\n          v-model=\"value\"\r\n        />\r\n      </template>\r\n      <!-- 性别 -->\r\n      <template v-if=\"tag == 'sex'\">\r\n        <ul>\r\n          <li @click=\"value = 0\" :class=\"value == 0 ? 'active' : ''\">男</li>\r\n          <li @click=\"value = 1\" :class=\"value == 1 ? 'active' : ''\">女</li>\r\n        </ul>\r\n      </template>\r\n      <!-- 学课 -->\r\n      <template v-if=\"tag == 'subjects'\">\r\n        <div class=\"subjects\">\r\n          <ul>\r\n            <li v-for=\"item in arr\" :key=\"item.id\">\r\n              <input\r\n                type=\"checkbox\"\r\n                name=\"\"\r\n                id=\"\"\r\n                :checked=\"str.includes(item.id)\"\r\n                class=\"check\"\r\n                @click=\"checked(item.id, $event)\"\r\n              />\r\n              <span>{{ item.name }}</span>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </template>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ok_up_user } from \"../util/api\";\r\nexport default {\r\n  // 组件名称\r\n  name: \"demo\",\r\n  // 组件参数 接收来自父组件的数据\r\n  props: [],\r\n  // 局部注册的组件\r\n  components: {},\r\n  // 组件状态值\r\n  data() {\r\n    return {\r\n      tag: this.$route.query.tag,\r\n      value: this.$route.query.value,\r\n      arr: [\r\n        { id: 7, name: \"语文\" },\r\n        { id: 8, name: \"数学\" },\r\n        { id: 9, name: \"英语\" },\r\n        { id: 12, name: \"物理\" },\r\n        { id: 13, name: \"化学\" },\r\n        { id: 24, name: \"生物\" },\r\n        { id: 25, name: \"政治\" },\r\n        { id: 26, name: \"信息技术\" },\r\n      ],\r\n      str: \"\",\r\n      arr1: [],\r\n    };\r\n  },\r\n  // 计算属性\r\n  computed: {},\r\n  // 侦听器\r\n  watch: {},\r\n  // 组件方法\r\n  methods: {\r\n    async baocun() {\r\n      if (this.tag == \"nickname\") {\r\n        let { data } = await ok_up_user({ nickname: this.value });\r\n      } else if (this.tag == \"sex\") {\r\n        let { data } = await ok_up_user({ sex: this.value });\r\n      } else if ((this.tag = \"subjects\")) {\r\n        let { data } = await ok_up_user({\r\n          user_attr: JSON.stringify(this.arr1),\r\n        });\r\n        console.log(data);\r\n      }\r\n      //   console.log(data);\r\n      this.$router.push(\"/info\");\r\n    },\r\n    checked(id, event) {\r\n      let obj = { attr_id: 2, attr_val_id: id };\r\n      if (event.target.checked) {\r\n        let flag = JSON.stringify(this.arr1).indexOf(JSON.stringify(obj));\r\n        if (flag == -1) {\r\n          this.arr1.push(obj);\r\n        }\r\n      } else {\r\n        let index = this.arr1.findIndex((item) => {\r\n          return item.attr_val_id == id;\r\n        });\r\n        this.arr1.splice(index, 1);\r\n      }\r\n    },\r\n  },\r\n  created() {},\r\n  mounted() {\r\n    console.log(this.$route.query.select);\r\n    this.$route.query.select.map((item) => {\r\n      //   console.log(item.attr_val_id);\r\n      if (item.attr_id == 2) {\r\n        this.arr1.push({ attr_id: 2, attr_val_id: item.attr_val_id });\r\n        this.str += item.attr_val_id + \",\";\r\n      } else {\r\n        this.arr1.push({ attr_id: 1, attr_val_id: item.attr_val_id });\r\n      }\r\n    });\r\n    console.log(this.str);\r\n    // console.log(this.str.includes);\r\n  },\r\n};\r\n</script> \r\n\r\n<style lang=\"scss\" scoped>\r\n.box {\r\n  height: 100%;\r\n  background: #f0f2f5;\r\n  header {\r\n    height: 11.73333vw;\r\n    z-index: 999;\r\n    width: 100%;\r\n    background: #fff;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    box-sizing: border-box;\r\n    padding: 0 2.66667vw;\r\n    align-items: center;\r\n    font-size: 4vw;\r\n    h3 {\r\n      font-size: 4.8vw;\r\n      font-weight: 400;\r\n    }\r\n  }\r\n  > div {\r\n    margin-top: 3vw;\r\n    // 昵称\r\n    input {\r\n      display: block;\r\n      box-sizing: border-box;\r\n      width: 100%;\r\n      min-width: 0;\r\n      line-height: 12.8vw;\r\n      height: 12.8vw;\r\n      text-indent: 4vw;\r\n      margin: 0;\r\n      padding: 0;\r\n      color: #323233;\r\n      text-align: left;\r\n      background-color: transparent;\r\n      border: 0;\r\n      resize: none;\r\n      font-size: 4vw;\r\n      background-color: #fff;\r\n    }\r\n    // 性别\r\n    ul {\r\n      background: #fff;\r\n      margin: 0.26667rem 0;\r\n      margin: 2.66667vw 0;\r\n      padding: 0.13333rem 0.4rem;\r\n      padding: 1.33333vw 4vw;\r\n      li {\r\n        height: 14.66667vw;\r\n        line-height: 1.46667rem;\r\n        line-height: 14.66667vw;\r\n        font-size: 0.37333rem;\r\n        font-size: 3.73333vw;\r\n        color: #595959;\r\n        position: relative;\r\n      }\r\n      :nth-child(1):after {\r\n        content: \"\";\r\n        display: block;\r\n        position: absolute;\r\n        bottom: 0;\r\n        left: 50%;\r\n        transform: translateX(-50%);\r\n        width: 100%;\r\n        height: 1px;\r\n        background-color: #f5f5f5;\r\n      }\r\n      .active {\r\n        background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAcCAYAAAAAwr0iAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QzlBMTk5NkVCNzRDMTFFOTlEMzU4OTdFRjlDNjMxNjEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QzlBMTk5NkZCNzRDMTFFOTlEMzU4OTdFRjlDNjMxNjEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDOUExOTk2Q0I3NEMxMUU5OUQzNTg5N0VGOUM2MzE2MSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDOUExOTk2REI3NEMxMUU5OUQzNTg5N0VGOUM2MzE2MSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PvL8dXQAAAHGSURBVHjaYvz//z/DQALGP6F0t1MRiIOB+BEQr2ahs+UaQHwMiAWhfF0mOlrOA8RrkSwHAXt6OmAOEGuhic2ilwMKgDgcTWwuEC+hRyK0AeL9QIyc3s4BsTUQ/6C1AySglkkiib0DYmMgfgDi0DIKQD5eiWY5qNCJgVlOawd0ALEdmlgTEG+nR0EUAipk0MR2ALE3EP+jtQPUgfg0EPMiiT2Axvs7dMVMNChs1qFZ/hMaIu+waWCiQ2GTA8RncWkAOcAAiK8C8VcgngzEbFQsbOZBHYW3NtwJpN2QxECFRhAQf6BWYYNPIygEnqOJOQLxESCWI6GwWYVm+XtolfuDkGaQA4qA+DiauDYQnwBiPTILm2jkwoaQA0Cp0wmaepEByNBDWAoTkgsbYltEIMf0QhMTMgAFYyQQbyC3sCG1SVYCxF0gOSSxv0CcCcSz8RQ2D4HYCFd+J7VNGAetr9GbbLVAPAGIT6Ll95/QFH+Wmo1SL2gQc6GJgxKXAppYKqH8Tm6r2BKItwCxEB41oMImmZbNck0gBhVWsljkiCpsCGVDQuA6jvi9BMT+lFhOanXMDMQ+0EIKVHfsAuLvFPeMBrprBhBgADxzbshcfaUMAAAAAElFTkSuQmCC)\r\n          no-repeat 100%;\r\n        background-size: 0.4rem 0.4rem;\r\n        background-size: 4vw 4vw;\r\n      }\r\n    }\r\n    // 学课\r\n    .subjects {\r\n      ul {\r\n        li {\r\n          height: 14.66667vw;\r\n          line-height: 14.66667vw;\r\n          font-size: 3.73333vw;\r\n          color: #595959;\r\n          input {\r\n            width: 6.66667vw;\r\n            height: 6.66667vw;\r\n            margin-top: 4vw;\r\n            margin-right: 2.66667vw;\r\n            float: left;\r\n          }\r\n          span {\r\n            display: inline-block;\r\n            height: 14.66667vw;\r\n            line-height: 14.66667vw;\r\n          }\r\n        }\r\n      }\r\n      li:after {\r\n        content: \"\";\r\n        display: block;\r\n        position: absolute;\r\n        bottom: 0;\r\n        left: 50%;\r\n        transform: translateX(-50%);\r\n        width: 100%;\r\n        height: 1px;\r\n        background-color: #f5f5f5;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./set-info.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./set-info.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./set-info.vue?vue&type=template&id=20beec9b&scoped=true&\"\nimport script from \"./set-info.vue?vue&type=script&lang=js&\"\nexport * from \"./set-info.vue?vue&type=script&lang=js&\"\nimport style0 from \"./set-info.vue?vue&type=style&index=0&id=20beec9b&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"20beec9b\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./set-info.vue?vue&type=style&index=0&id=20beec9b&lang=scss&scoped=true&\""],"sourceRoot":""}