(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2a387e68"],{a442:function(t,s,i){},d230:function(t,s,i){"use strict";i.r(s);var e=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"xiangqing"},[e("van-sticky",[e("div",{directives:[{name:"show",rawName:"v-show",value:t.fll,expression:"fll"}],staticClass:"tad-sou"},[e("van-icon",{attrs:{name:"arrow-left",size:"0.4rem"},on:{click:t.fan}}),e("span",[t._v("课程详情")]),e("van-icon",{attrs:{name:"cluster-o",size:"0.4rem"},on:{click:function(s){t.show=!0}}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.flog,expression:"flog"}],staticClass:"tad-sou"},[e("van-icon",{attrs:{name:"arrow-left",size:"0.4rem"},on:{click:t.fan}}),e("a",{staticClass:"san",style:t.top<=366?"fontSize:.32rem;color:#333":"",on:{click:t.jie}},[t._v("课程介绍")]),e("span",{staticClass:"san",style:t.top>=366&&t.top<668?"fontSize:.32rem;color:#333":"",on:{click:t.da}},[t._v("课程大纲")]),e("span",{staticClass:"san",style:t.top>=668?"fontSize:.32rem;color:#333":"",on:{click:t.ping}},[t._v("课程评价")]),e("van-icon",{attrs:{name:"cluster-o",size:"0.4rem"},on:{click:function(s){t.show=!0}}})],1)]),e("div",{staticClass:"tad-box"},[e("div",{staticClass:"tad-dan"},[e("van-icon",{directives:[{name:"show",rawName:"v-show",value:0==t.list1.is_collect,expression:"list1.is_collect == 0"}],attrs:{name:"star-o",size:"0.4rem"},on:{click:t.xing}}),e("van-icon",{directives:[{name:"show",rawName:"v-show",value:1==t.list1.is_collect,expression:"list1.is_collect == 1"}],attrs:{name:"star",size:"0.4rem",color:"#EB6100"},on:{click:t.fanxing}}),e("div",[e("p",{staticClass:"tad-p1"},[t._v(t._s(t.list1.title))]),e("p",{staticClass:"tad-p2"},[0==t.list1.price?e("font",[t._v("免费")]):t._e(),0!=t.list1.price?e("font",{staticClass:"fk"},[e("img",{attrs:{src:i("7857"),alt:""}}),t._v(" "+t._s(t.list1.price/100+".00"))]):t._e()],1),e("p",{staticClass:"tad-p3"},[t._v(" 共"+t._s(t.list1.course_type)+"课时|"+t._s(t.list1.browse_num)+"人已报名 ")]),5!=t.$route.query.courseType?e("p",{staticClass:"tad-p3"},[t._v(" 开课时间："+t._s(t._f("timetow")(t.list1.end_play_date))+" - "+t._s(t._f("timetow")(t.list1.enter_end_date))+" ")]):t._e()])],1),e("div",{staticClass:"tad-tu"},[e("p",[t._v("教学团队")]),e("ul",t._l(t.list,(function(s){return e("li",{key:s.teacher_id,on:{click:function(i){t.token?t.$router.push("/teacher?id="+s.teacher_id):t.$router.push("/login")}}},[e("img",{attrs:{src:s.avatar,alt:""}}),e("font",[t._v(t._s(s.teacher_name))])],1)})),0)]),e("div",{ref:"jie",staticClass:"tad-tu1",attrs:{id:"box1"}},[e("p",[t._v("课程介绍")]),e("div",{domProps:{innerHTML:t._s(t.list1.course_details)}})]),e("div",{ref:"da",staticClass:"tad-tu2"},[e("p",[t._v("课程大纲")]),5!=t.$route.query.courseType?e("div",t._l(t.dagang,(function(s){return e("div",{key:s.id,staticClass:"k00",on:{click:function(i){return t.video(s.video_id)}}},[e("div",{staticClass:"k0"},[e("div",{staticClass:"k1"}),e("div",{staticClass:"k2"},[t._v("回放")]),e("span",[t._v(t._s(s.periods_title))])]),e("p",{staticClass:"k3"},[t._v(" "+t._s(s.teachers[0].teacher_name)+" "),e("span",[t._v(t._s(s.start_play)+t._s(s.end_play))])])])})),0):t._e(),5==t.$route.query.courseType?e("div",t._l(t.dagang,(function(s){return e("div",{key:s.id,staticClass:"k000",on:{click:function(i){return t.video(s.video_id)}}},[e("span",[t._v(t._s(s.periods_title))])])})),0):t._e()]),e("div",{ref:"ping",staticClass:"tad-tu2 tu3"},[e("p",[t._v("课程评论")]),t._l(t.list3,(function(s,i){return e("ul",{key:i},[e("li",[e("div",[e("img",{attrs:{src:s.avatar,alt:""}}),e("div",[e("div",[e("span",[t._v(t._s(s.nickname))]),e("div",{staticClass:"rate"},[e("van-rate",{attrs:{readonly:"",size:".28rem",color:"rgb(234, 122, 47)","void-color":""},model:{value:s.grade,callback:function(i){t.$set(s,"grade",i)},expression:"item.grade"}})],1),e("span",[t._v(t._s(t._f("timetesev")(Number(s.created_at))))])]),e("div",[e("font",[t._v(t._s(s.content))])],1)])])])])}))],2)]),e("div",{directives:[{name:"show",rawName:"v-show",value:0==t.list1.is_buy,expression:"list1.is_buy == 0"}],staticClass:"tad-bt",on:{click:function(s){return t.baoming()}}},[t._v(" 立即报名 ")]),e("div",{directives:[{name:"show",rawName:"v-show",value:1==t.list1.is_buy,expression:"list1.is_buy == 1"}],staticClass:"tad-bt",on:{click:function(s){return t.xuexi()}}},[t._v(" 立即学习 ")]),e("van-overlay",{attrs:{show:t.show},on:{click:function(s){t.show=!1}}},[e("div",{staticClass:"wrapper",on:{click:function(s){t.show=!1}}},[e("div",{staticClass:"block"},[e("p",[t._v("分享")]),e("div",{ref:"qrCodeDiv",attrs:{id:"qrCode"}})])])])],1)},a=[],o=i("01e2"),n=i("9870"),l={data(){return{token:localStorage.getItem("token")||"",indexList:[1,2,3,4,5,6,7,8,9,10],top:0,flog:!1,fll:!0,foo:!0,id:this.$route.query.id,list:{},list1:{},list3:[],show:!1,dagang:[]}},name:"demo",props:{},mounted(){this.bindQRCode(),this.fun1(),this.fun2(),window.addEventListener("scroll",this.scrollHandle)},computed:{},watch:{},methods:{async video(t){if(this.token)if(0==this.list1.is_buy)Object(o["a"])("请先报名");else{let{data:s}=await Object(n["r"])({id:this.id,video_id:t});console.log(s),0==s.data.length?Object(o["a"])("暂未生成回放"):window.location.href=`https://wap.365msmk.com/video?video_id=${t}&id=${this.id}`}else this.$router.push("/login")},async baoming(){this.token||this.$router.push("/login");let{data:t}=await Object(n["n"])({shop_id:this.id,type:5});console.log(t),Object(o["a"])(t.data.msg),this.fun1()},bindQRCode(){new this.$qrCode(this.$refs.qrCodeDiv,{text:`https://wap.365msmk.com/course-detail?id=${this.id}&courseType=5`,width:200,height:200,colorDark:"#333333",colorLight:"#ffffff",correctLevel:this.$qrCode.CorrectLevel.L})},async fun1(){let{data:t}=await Object(n["s"])("courseInfo/basis_id="+this.$route.query.id);this.list=t.data.teachers,console.log(this.list),this.list1=t.data.info},async fun2(){let{data:t}=await Object(n["w"])("courseComment",{page:1,limit:10,id:this.id});this.list3=t.data.list;let{data:s}=await Object(n["l"])({id:this.id});this.dagang=s.data,console.log(this.dagang)},async xing(){this.foo=!1;let{data:t}=await Object(n["h"])({course_basis_id:this.id,type:1});o["a"].success("已收藏"),this.fun1()},async fanxing(){this.foo=!0;let{data:t}=await Object(n["g"])(this.list1.collect_id);o["a"].success("已取消"),this.fun1()},fan(){this.$router.go(-1)},scrollHandle:function(t){this.top=t.srcElement.scrollingElement.scrollTop,this.top>0?(this.flog=!0,this.fll=!1):(this.flog=!1,this.fll=!0)},jie(){document.body.scrollTop=document.documentElement.scrollTop=this.$refs.jie.offsetTop-60},da(){console.log(this.$refs.da.offsetTop-60),document.body.scrollTop=document.documentElement.scrollTop=this.$refs.da.offsetTop-60},ping(){console.log(this.$refs.ping.offsetTop-60),document.body.scrollTop=document.documentElement.scrollTop=this.$refs.ping.offsetTop-60},xuexi(){this.$router.push("/study-detail?id="+this.id)}}},c=l,r=(i("ff03"),i("c701")),d=Object(r["a"])(c,e,a,!1,null,"05d7808a",null);s["default"]=d.exports},ff03:function(t,s,i){"use strict";i("a442")}}]);
//# sourceMappingURL=chunk-2a387e68.a43d2f6c.js.map